<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MetaReview Overview</title>

    <!-- Flowbite (CDN) -->
<link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
<script defer src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>


    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              background: 'hsl(0 0% 100%)',
              card: 'hsl(0 0% 100% / 0.95)',
              primary: '#6D4AFF',
              secondary: '#9AE6B4',
              accent: '#7C3AED',
              border: 'hsl(240 5% 84%)',
              'muted-foreground': 'hsl(240 4% 46%)',
            },
            backgroundImage: { 'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))' },
            keyframes: {
              grainMove: { '0%': { transform:'translate(0,0)' }, '100%': { transform:'translate(-10%, -10%)' } },
              pulseHalo: {
                '0%':   { boxShadow: '0 0 0 0 rgba(109,74,255,0.0)' },
                '50%':  { boxShadow: '0 0 0 24px rgba(109,74,255,0.12)' },
                '100%': { boxShadow: '0 0 0 0 rgba(109,74,255,0.0)' },
              },
              rotateSlow: { '0%': { transform:'rotate(0deg)' }, '100%': { transform:'rotate(360deg)' } }
            },
            animation: {
              grainMove:'grainMove 12s linear infinite',
              pulseHalo:'pulseHalo 3s ease-in-out infinite',
              rotateSlow:'rotateSlow 14s linear infinite'
            }
          },
        },
      }
    </script>

    <!-- GSAP -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js"></script>

    <style>
      /* BAN SCROLLING */
      html, body { height: 100%; overflow: hidden !important; overscroll-behavior: none !important; touch-action: none !important; -ms-overflow-style: none; scrollbar-width: none; }
      html::-webkit-scrollbar, body::-webkit-scrollbar { width:0; height:0; display:none; }

      .glass { backdrop-filter: blur(10px); }
      .card { background: rgba(255,255,255,0.95); border: 1px solid hsl(240 5% 84%); border-radius: 1rem; box-shadow: 0 20px 40px rgba(0,0,0,.08); }
      .bg-meta { background-image: linear-gradient(to bottom, hsl(0 0% 100%), rgba(154,230,180,0.10), rgba(154,230,180,0.30)); }

      .cinematic-overlay{
        position:absolute; inset:0; pointer-events:none; z-index:5;
        background:
          radial-gradient(120% 100% at 50% 60%, rgba(0,0,0,0) 30%, rgba(0,0,0,0.20) 85%),
          radial-gradient(90% 80% at 50% 50%, rgba(109,74,255,0.10), rgba(124,58,237,0.12), rgba(0,0,0,0) 70%);
        opacity:0; will-change:opacity;
      }
      .cinematic-grain{ position:absolute; inset:0; mix-blend-mode:overlay; opacity:.06; z-index:6; pointer-events:none; }
      .cinematic-grain::before{
        content:""; position:absolute; inset:-20%;
        background-image: repeating-radial-gradient(circle at 20% 30%, rgba(0,0,0,0.9) 0 1px, transparent 1px 3px);
        animation: grainMove 12s linear infinite;
      }

      .perspective-1000 { perspective: 1000px; }
      .preserve-3d     { transform-style: preserve-3d; }

      #stage { position: relative; width: 100%; height: 100vh; }
      #stage > section { position: absolute; inset: 0; display: none; }
      #stage > section.active { display: flex; }

      #review-hive { transform-origin: 50% 50%; will-change: transform, opacity, filter; }
      @keyframes scrollDot { 0%,100%{ transform: translateY(0); opacity:1 } 50%{ transform: translateY(8px); opacity:.3 } }

      /* S5 inspired badge */
      .s5-badge {
        display:inline-flex; align-items:center; gap:.5rem;
        padding:.5rem .9rem; border-radius:9999px;
        background: rgba(124,58,237,0.95); color:white;
        border: 1px solid rgba(124,58,237,0.30);
        box-shadow: 0 10px 30px rgba(107,33,168,0.30);
        font-size:.75rem; font-weight:700; white-space:nowrap;
        backdrop-filter: blur(6px);
        will-change: transform, opacity, box-shadow;
      }

      /* Magic Moment visual kit */
      .mm-core {
        position: absolute; left:50%; top:50%; transform: translate(-50%,-50%);
        width: 180px; height: 180px; border-radius: 9999px;
        background: radial-gradient(60% 60% at 50% 50%, rgba(109,74,255,0.9), rgba(124,58,237,0.85), rgba(109,74,255,0.5) 60%, rgba(109,74,255,0.15) 100%);
        border: 1px solid rgba(255,255,255,0.35);
        box-shadow: 0 30px 80px rgba(109,74,255,0.35), inset 0 0 28px rgba(255,255,255,0.28);
        filter: saturate(1.1);
        z-index: 15;
      }
      .mm-orbit {
        position:absolute; inset:-18px; border-radius:9999px;
        border: 1px dashed rgba(255,255,255,0.35);
        mix-blend-mode: screen; pointer-events:none;
      }
      .mm-core-label {
        position:absolute; left:50%; top: 50%; transform: translate(-50%,-50%);
        color:white; text-align:center; font-weight:800; letter-spacing:.04em;
        text-shadow: 0 2px 12px rgba(0,0,0,0.25);
      }
      .mm-beam {
        position:absolute; height: 6px; border-radius: 9999px; transform-origin: left center;
        background: linear-gradient(90deg, rgba(125,64,255,0.0), rgba(125,64,255,0.65), rgba(125,64,255,0.0));
        filter: blur(0.2px) drop-shadow(0 0 18px rgba(125,64,255,0.35));
        opacity: 0.0; z-index: 12;
      }
      .mm-panel {
        width: 44%; min-width: 320px; will-change: transform, filter, opacity;
        transition: transform .35s ease, opacity .35s ease, box-shadow .35s ease, filter .35s ease;
      }
      .mm-front { z-index: 30; }
      .mm-back  { z-index: 5;  }

      .segmented {
        border: 1px solid rgba(109,74,255,0.35);
        background: rgba(109,74,255,0.06);
        border-radius: 9999px;
        box-shadow: inset 0 0 0 1px rgba(255,255,255,0.35);
      }
      .seg-btn { padding:.5rem .9rem; border-radius:9999px; font-weight:700; font-size:.85rem; }
      .seg-btn.active {
        background: linear-gradient(135deg, rgba(109,74,255,0.95), rgba(124,58,237,0.95));
        color:white; box-shadow: 0 10px 30px rgba(109,74,255,0.35);
      }

      .chip {
        padding:.35rem .65rem; border-radius:9999px; font-size:.7rem; font-weight:700;
        border: 1px solid rgba(109,74,255,0.25);
        background: rgba(109,74,255,0.06); color:#4C1D95;
      }
      .mini-card { background: rgba(255,255,255,0.85); border:1px solid hsl(240 5% 84%); border-radius:.75rem; box-shadow: 0 10px 24px rgba(0,0,0,.06); }

      .meta-modal-backdrop { background: radial-gradient(120% 100% at 50% 60%, rgba(0,0,0,.45), rgba(0,0,0,.65)); }
.meta-modal-card {
  background: rgba(255,255,255,.94);
  border: 1px solid hsl(240 5% 84%);
  border-radius: 1rem;
  box-shadow: 0 30px 80px rgba(0,0,0,.25);
  backdrop-filter: blur(10px);
}
.meta-chip {
  padding:.35rem .6rem; border-radius:9999px; font-size:.7rem; font-weight:700;
  border: 1px solid rgba(109,74,255,0.25);
  background: rgba(109,74,255,0.06); color:#4C1D95; white-space:nowrap;
}
.meta-section {
  border: 1px solid hsl(240 5% 84%);
  background: rgba(255,255,255,.9);
  border-radius: .85rem;
}
.meta-section h4 { font-weight:800; letter-spacing:.01em; }
    </style>
  </head>
  <body class="min-h-screen bg-background text-gray-900 overflow-x-hidden">

    <main id="app" class="relative">
  <div id="stage">

    <!-- SCENE 1 -->
    <section id="scene-1" class="h-screen items-center justify-center relative active">
      <div class="absolute inset-0 -z-10">
        <div class="absolute inset-0 bg-gradient-to-br from-primary/30 via-background via-60% to-secondary/40"></div>
        <div class="absolute inset-0 bg-gradient-radial from-transparent via-primary/5 to-primary/20"></div>
      </div>
      <div id="hero-particles" class="absolute inset-0 -z-0 pointer-events-none"></div>
      <div class="text-center px-4">
        <h1 id="s1-h1" class="text-5xl md:text-7xl lg:text-8xl font-extrabold mb-8 leading-tight opacity-0">
          <span class="text-primary">From Reviews to</span><br />
          <span class="bg-clip-text text-transparent bg-gradient-to-r from-accent to-primary">Supercharged Search</span>
        </h1>
        <p id="s1-p" class="text-xl md:text-2xl text-muted-foreground mb-16 max-w-2xl mx-auto opacity-0">
          Transform hotel guest reviews into intelligent search experiences
        </p>
        <div id="s1-ind" class="flex flex-col items-center gap-4 opacity-0">
          <p class="text-primary font-medium tracking-wide uppercase text-sm animate-pulse">Use ‚Üì‚Üë to Navigate</p>
          <div class="w-6 h-12 border-2 border-primary rounded-full mx-auto relative overflow-hidden">
            <div class="w-1.5 h-4 bg-primary rounded-full mx-auto mt-2 animate-[scrollDot_2.5s_ease-in-out_infinite]"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- SCENE 2 (Hive) -->
    <section id="scene-2" class="h-screen items-center justify-center relative overflow-hidden bg-meta">
      <div id="s2-overlay" class="cinematic-overlay"></div>
      <div id="s2-grain" class="cinematic-grain"></div>
      <div id="s3-portal" class="absolute inset-0 z-20 pointer-events-none flex items-center justify-center perspective-1000 opacity-0" style="will-change: opacity, transform;"></div>
      <div class="relative w-full max-w-full mx-auto px-4">
        <div id="review-hive" class="relative w-full h-[85vh] overflow-hidden"></div>
      </div>
    </section>

    <!-- SCENE 3 (template for card only) -->
    <section id="scene-3" class="hidden">
      <div class="w-full max-w-5xl mx-auto px-4 perspective-1000">
        <div class="card p-8 relative overflow-hidden" id="scene3-card" style="will-change: transform, opacity, filter;">
          <!-- HEADER -->
          <div class="flex items-start gap-6 mb-8">
            <div class="w-28 h-28 md:w-32 md:h-32 rounded-2xl overflow-hidden shadow-lg border border-gray-200">
              <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Langham_london.jpg/1920px-Langham_london.jpg" alt="The Langham London" class="w-full h-full object-cover" />
            </div>
            <div class="flex-1 min-w-0">
              <h3 class="text-3xl md:text-4xl font-extrabold text-gray-900 leading-tight">The Langham London</h3>
              <p class="mt-1 text-gray-600 flex items-center gap-1">
                <span class="text-lg">üìç</span> London, United Kingdom
              </p>
              <div class="mt-3 flex flex-wrap items-center gap-2">
                <span class="px-3 py-1 rounded-full text-sm font-semibold bg-primary/10 text-primary">TrustScore 4.9</span>
                <span class="px-3 py-1 rounded-full text-sm font-semibold bg-gray-100 text-gray-700">2,100+ reviews</span>
              </div>
            </div>
          </div>

          <!-- KPI STRIP -->
          <!--
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <div class="rounded-xl border bg-white/80 p-4">
              <div class="text-xs text-gray-500 mb-1">Overall</div>
              <div class="text-2xl font-extrabold text-primary leading-none">9.2</div>
              <div class="text-[11px] text-gray-500 mt-1">TrustYou MetaReview</div>
            </div>
            <div class="rounded-xl border bg-white/80 p-4">
              <div class="text-xs text-gray-500 mb-1">Sentiment</div>
              <div class="text-2xl font-extrabold text-emerald-600 leading-none">93% üëç</div>
              <div class="text-[11px] text-gray-500 mt-1">positive mentions</div>
            </div>
            <div class="rounded-xl border bg-white/80 p-4">
              <div class="text-xs text-gray-500 mb-1">Trending</div>
              <div class="text-2xl font-extrabold text-indigo-600 leading-none">+0.2</div>
              <div class="text-[11px] text-gray-500 mt-1">last 90 days</div>
            </div>
            <div class="rounded-xl border bg-white/80 p-4">
              <div class="text-xs text-gray-500 mb-1">Business-friendly</div>
              <div class="text-2xl font-extrabold text-violet-600 leading-none">Top 3%</div>
              <div class="text-[11px] text-gray-500 mt-1">in London</div>
            </div>
          </div>
          -->

          <!-- CATEGORY SCORES -->
          <div class="grid grid-cols-2 md:grid-cols-4 gap-5 mb-8">
            <div class="flex flex-col">
              <div class="flex justify-between items-center mb-1">
                <span class="text-sm font-medium">Service</span>
                <span class="text-sm font-bold text-primary">4.6</span>
              </div>
              <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
                <div class="h-full bg-blue-500 rounded-full" data-bar="91"></div>
              </div>
              <div class="mt-1 text-[11px] text-gray-500">‚ÄúReception and housekeeping are friendly‚Äù</div>
            </div>
            <div class="flex flex-col">
              <div class="flex justify-between items-center mb-1">
                <span class="text-sm font-medium">Cleanliness</span>
                <span class="text-sm font-bold text-primary">4.4</span>
              </div>
              <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
                <div class="h-full bg-emerald-500 rounded-full" data-bar="88"></div>
              </div>
              <div class="mt-1 text-[11px] text-gray-500">‚ÄúClean rooms and bathrooms‚Äù</div>
            </div>
            <div class="flex flex-col">
              <div class="flex justify-between items-center mb-1">
                <span class="text-sm font-medium">Comfort</span>
                <span class="text-sm font-bold text-primary">3.8</span>
              </div>
              <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
                <div class="h-full bg-amber-500 rounded-full" data-bar="75"></div>
              </div>
              <div class="mt-1 text-[11px] text-gray-500">‚ÄúOkay room size, but comfortable and quiet‚Äù</div>
            </div>
            <div class="flex flex-col">
              <div class="flex justify-between items-center mb-1">
                <span class="text-sm font-medium">Location</span>
                <span class="text-sm font-bold text-primary">4.9</span>
              </div>
              <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
                <div class="h-full bg-purple-500 rounded-full" data-bar="97"></div>
              </div>
              <div class="mt-1 text-[11px] text-gray-500">‚ÄúGreat sightseeing, restaurants and shopping nearby‚Äù</div>
            </div>
          </div>

          <!-- TRAVELER TYPES -->
          <div class="bg-gray-50 rounded-2xl p-4 grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <div class="text-center">
              <div class="text-2xl mb-1">üëî</div>
              <div class="text-xs text-gray-600">Business</div>
              <div class="text-sm font-bold text-primary">45%</div>
            </div>
            <div class="text-center">
              <div class="text-2xl mb-1">üíë</div>
              <div class="text-xs text-gray-600">Couples</div>
              <div class="text-sm font-bold text-primary">30%</div>
            </div>
            <div class="text-center">
              <div class="text-2xl mb-1">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
              <div class="text-xs text-gray-600">Families</div>
              <div class="text-sm font-bold text-primary">20%</div>
            </div>
            <div class="text-center">
              <div class="text-2xl mb-1">üö∂</div>
              <div class="text-xs text-gray-600">Solo</div>
              <div class="text-sm font-bold text-primary">5%</div>
            </div>
          </div>

          <!-- HIGHLIGHTS -->
          <div class="flex flex-wrap gap-2 mb-6">
            <span class="px-3 py-1 bg-accent/10 text-accent rounded-full text-xs font-semibold">Exceptional Breakfast</span>
            <span class="px-3 py-1 bg-accent/10 text-accent rounded-full text-xs font-semibold">Walkable Location</span>
            <span class="px-3 py-1 bg-accent/10 text-accent rounded-full text-xs font-semibold">Quiet Rooms</span>
            <span class="px-3 py-1 bg-accent/10 text-accent rounded-full text-xs font-semibold">Historic Charm</span>
            <span class="px-3 py-1 bg-accent/10 text-accent rounded-full text-xs font-semibold">Business-Ready</span>
          </div>

          <!-- BADGES -->
          <div class="flex flex-wrap gap-3">
            <div class="px-3 py-2 rounded-lg text-xs font-semibold bg-yellow-500/20 text-yellow-800">Top 3% Business in London</div>
            <div class="px-3 py-2 rounded-lg text-xs font-semibold bg-green-500/20 text-green-800">Exceptional Breakfast</div>
            <div class="px-3 py-2 rounded-lg text-xs font-semibold bg-blue-500/20 text-blue-800">Top 10% Location</div>
          </div>
        </div>
      </div>
    </section>

    <!-- SCENE 4 ‚Äì Scaling to Millions -->
    <section id="scene-4" class="h-screen items-center justify-center relative">
      <div class="absolute inset-0 bg-gradient-to-br from-background via-secondary/5 to-primary/10 -z-10"></div>
      <div class="w-full max-w-7xl mx-auto px-4">
        <div id="s4-title" class="text-center mb-12 opacity-0">
          <h2 class="text-4xl md:text-6xl font-bold text-primary mb-4">Scaling to Millions</h2>
          <p class="text-xl text-gray-600">Every hotel analyzed with the same precision</p>
        </div>
        <div id="hotel-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4"></div>
        <div id="s4-stats"
  class="opacity-0 absolute left-1/2 -translate-x-1/2 bottom-6 md:bottom-10 z-20">
  <div
    class="bg-white/95 glass border border-primary/30 rounded-xl px-6 py-4 shadow-2xl flex items-center text-center divide-x divide-gray-200 whitespace-nowrap min-w-[700px]">
    <div class="flex-1 px-4">
      <div class="text-xl font-bold text-primary">1.3M+</div>
      <div class="text-xs text-gray-600">Hotels</div>
    </div>
    <div class="flex-1 px-4">
      <div class="text-xl font-bold text-primary">2.3M+</div>
      <div class="text-xs text-gray-600">Reviews Processed Weekly</div>
    </div>
    <div class="flex-1 px-4">
      <div class="text-xl font-bold text-primary">40</div>
      <div class="text-xs text-gray-600">Languages Supported</div>
    </div>
  </div>
</div>


      </div>
    </section>

    <!-- SCENE 5 ‚Äì Cross-Benchmarking -->
    <section id="scene-5" class="h-screen items-center justify-center relative">
      <div class="absolute inset-0 bg-gradient-to-br from-background via-primary/5 to-secondary/15 -z-10"></div>
      <div class="w-full max-w-7xl mx-auto px-4 relative">
        <div id="s5-title" class="text-center mb-12 opacity-0">
          <h2 class="text-4xl md:text-6xl font-bold text-accent mb-4">Cross-Benchmarking</h2>
          <p class="text-xl text-gray-600">Identifying the true standouts across millions of properties</p>
        </div>

        <div id="s5-wrapper" class="relative">
          <div id="benchmark-grid" class="grid grid-cols-3 md:grid-cols-5 lg:grid-cols-7 gap-4"></div>
          <div id="s5-badges" class="absolute inset-0 pointer-events-none z-10"></div>
        </div>

        <div id="s5-stats" class="mt-10 flex items-center justify-center opacity-0">
  <div class="bg-white/95 glass border border-purple-300 rounded-full px-8 py-4 shadow-xl flex items-center gap-8 text-center cursor-pointer"
  data-modal-target="categoriesModal"
      data-modal-toggle="categoriesModal"
  >
    <!-- Pill 1: Recognition Badges (opens modal) -->
    <button
      type="button"
      class="focus:outline-none"
      aria-label="Open categories and badges modal">
      <div>
        <div class="text-2xl font-bold text-accent">55</div>
        <div class="text-xs text-gray-600">Recognition Badges</div>
      </div>
    </button>

    <div class="w-px h-8 bg-gray-200"></div>

    <!-- Pill 2: Categories (opens modal) -->
    <button
      type="button"
      class="focus:outline-none"
      aria-label="Open categories and badges modal">
      <div>
        <div class="text-2xl font-bold text-primary">160+</div>
        <div class="text-xs text-gray-600">Categories</div>
      </div>
    </button>

    <div class="w-px h-8 bg-gray-200"></div>

    <!-- Pill 3: Data freshness (static) -->
    <div>
      <div class="text-2xl font-bold text-accent">24 month</div>
      <div class="text-xs text-gray-600">Data freshness</div>
    </div>
  </div>
</div>

      </div>
    </section>

    <!-- SCENE 6 ‚Äì The Magic Moment (Foreground switch) -->
    <section id="scene-6" class="h-screen items-center justify-center relative overflow-hidden">
      <!-- Subtle background -->
      <div class="absolute inset-0 bg-gradient-to-br from-background via-secondary/5 to-primary/10 -z-10"></div>

      <!-- Title + tabs -->
      <div id="s6-title" class="absolute top-6 left-1/2 -translate-x-1/2 text-center z-10 opacity-0">
        <h2 class="text-4xl md:text-6xl font-extrabold text-primary mb-8">Key Use Cases</h2>
        <div class="mt-4 inline-flex segmented p-1" role="tablist" aria-label="Magic Moment Views">
          <button id="seg-filters" class="seg-btn active" aria-selected="true">Vibe Filters</button>
          <button id="seg-studio"  class="seg-btn"        aria-selected="false">Campaign Foundry</button>
        </div>
      </div>

      <!-- Single-panel stage (one visible at a time) -->
      <div class="w-full max-w-5xl mx-auto px-4 md:px-6 pt-36">
        <!-- VIBE FILTERS PANEL -->
        <div id="panel-filters" class="card p-6 md:p-8 opacity-0 translate-y-3">
          <!-- ===== Compact Vibe Filters ‚Äî 2-Column Demo (radios + CTA) ===== -->
<div id="vf-2col" class="space-y-4">
  <!-- Title row -->
  <div class="flex items-center justify-between">
    <div class="leading-tight">
      <div class="text-[11px] font-bold text-primary/80 uppercase tracking-wider">Vibe Filters</div>
      <h3 class="text-xl md:text-2xl font-extrabold">Find hotels by real guest vibes</h3>
    </div>

    <!-- CTA to full OTA integration example -->
    <a href="/ota-integration-demo"
       class="inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary text-white text-xs font-semibold hover:bg-accent transition">
      Open OTA Integration Example ‚Üí
    </a>
  </div>

  <!-- 2-col layout -->
  <div class="grid grid-cols-1 lg:grid-cols-5 gap-6 items-start">
    <!-- Left: Filters -->
    <aside class="lg:col-span-2 rounded-xl border border-gray-200/70 bg-white/70 p-4 space-y-5">
      <!-- Traveler -->
      <fieldset>
        <legend class="text-[11px] font-semibold text-gray-500 uppercase tracking-wider mb-2">Traveler Type</legend>
        <div class="grid grid-cols-1 gap-2">
          <label class="flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 hover:border-primary/40">
            <input type="radio" name="vf2-trav" value="any" class="h-4 w-4 text-primary focus:ring-primary" checked />
            <span class="text-sm font-medium text-gray-800">Any</span>
          </label>
          <label class="flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 hover:border-primary/40">
            <input type="radio" name="vf2-trav" value="Business" class="h-4 w-4 text-primary focus:ring-primary" />
            <span class="text-sm font-medium text-gray-800">Business</span>
          </label>
          <label class="flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 hover:border-primary/40">
            <input type="radio" name="vf2-trav" value="Couples" class="h-4 w-4 text-primary focus:ring-primary" />
            <span class="text-sm font-medium text-gray-800">Couples</span>
          </label>
        </div>
      </fieldset>

      <!-- Property -->
      <fieldset>
        <legend class="text-[11px] font-semibold text-gray-500 uppercase tracking-wider mb-2">Property Type</legend>
        <div class="grid grid-cols-1 gap-2">
          <label class="flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 hover:border-primary/40">
            <input type="radio" name="vf2-type" value="any" class="h-4 w-4 text-primary focus:ring-primary" checked />
            <span class="text-sm font-medium text-gray-800">Any</span>
          </label>
          <label class="flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 hover:border-primary/40">
            <input type="radio" name="vf2-type" value="Luxury" class="h-4 w-4 text-primary focus:ring-primary" />
            <span class="text-sm font-medium text-gray-800">Luxury</span>
          </label>
          <label class="flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 hover:border-primary/40">
            <input type="radio" name="vf2-type" value="Boutique" class="h-4 w-4 text-primary focus:ring-primary" />
            <span class="text-sm font-medium text-gray-800">Boutique</span>
          </label>
        </div>
      </fieldset>
    </aside>

    <!-- Right: Results -->
    <main class="lg:col-span-3">
      <!-- Cards -->
      <div id="vf2-results" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Hotel -->
        <article class="vf2-hotel mini-card p-3 flex items-center gap-3"
          data-type="Luxury" data-travelers="Business,Couples">
          <img class="w-16 h-16 rounded-md object-cover border"
               src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Langham_london.jpg/1920px-Langham_london.jpg"
               alt="The Langham London" />
          <div class="min-w-0 flex-1">
            <div class="flex items-center gap-2">
              <h4 class="font-semibold text-sm text-gray-900 truncate">The Langham London</h4>
              <span class="px-1.5 py-0.5 rounded-md bg-primary text-white text-[10px] font-bold">4.8</span>
            </div>
            <div class="text-[11px] text-gray-600 mt-0.5">üìç London, United Kingdom</div>
            <div class="mt-1 flex flex-wrap gap-1.5">
              <span class="chip">Luxury</span><span class="chip">Business</span><span class="chip">Couples</span>
            </div>
          </div>
        </article>

        <article class="vf2-hotel mini-card p-3 flex items-center gap-3"
          data-type="Luxury" data-travelers="Couples">
          <img class="w-16 h-16 rounded-md object-cover border"
               src="https://lh3.googleusercontent.com/p/AF1QipMcAFofAkmAzxCXHdsnZk1GLj_lWV1oiyLnFNQt=s1360-w1360-h1020-rw"
               alt="Claridge‚Äôs" />
          <div class="min-w-0 flex-1">
            <div class="flex items-center gap-2">
              <h4 class="font-semibold text-sm text-gray-900 truncate">Claridge‚Äôs</h4>
              <span class="px-1.5 py-0.5 rounded-md bg-primary text-white text-[10px] font-bold">4.6</span>
            </div>
            <div class="text-[11px] text-gray-600 mt-0.5">üìç London, United Kingdom</div>
            <div class="mt-1 flex flex-wrap gap-1.5">
              <span class="chip">Luxury</span><span class="chip">Couples</span>
            </div>
          </div>
        </article>

        <article class="vf2-hotel mini-card p-3 flex items-center gap-3"
          data-type="Boutique" data-travelers="Business,Couples">
          <img class="w-16 h-16 rounded-md object-cover border"
               src="https://static.prod.r53.tablethotels.com/media/hotels/slideshow_images_staged/large/1104741.jpg"
               alt="The Hoxton" />
          <div class="min-w-0 flex-1">
            <div class="flex items-center gap-2">
              <h4 class="font-semibold text-sm text-gray-900 truncate">The Hoxton</h4>
              <span class="px-1.5 py-0.5 rounded-md bg-primary text-white text-[10px] font-bold">4.2</span>
            </div>
            <div class="text-[11px] text-gray-600 mt-0.5">üìç London, United Kingdom</div>
            <div class="mt-1 flex flex-wrap gap-1.5">
              <span class="chip">Boutique</span><span class="chip">Business</span><span class="chip">Couples</span>
            </div>
          </div>
        </article>

        <article class="vf2-hotel mini-card p-3 flex items-center gap-3"
          data-type="Boutique" data-travelers="Couples">
          <img class="w-16 h-16 rounded-md object-cover border"
               src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/77003227.jpg?k=e6473a8ebe28f9dbb721af8739d839e58e8baa79fc4b6dea10e717b8c617ca04&o=&hp=1"
               alt="The Zetter Townhouse" />
          <div class="min-w-0 flex-1">
            <div class="flex items-center gap-2">
              <h4 class="font-semibold text-sm text-gray-900 truncate">The Zetter Townhouse</h4>
              <span class="px-1.5 py-0.5 rounded-md bg-primary text-white text-[10px] font-bold">4.1</span>
            </div>
            <div class="text-[11px] text-gray-600 mt-0.5">üìç London, United Kingdom</div>
            <div class="mt-1 flex flex-wrap gap-1.5">
              <span class="chip">Boutique</span><span class="chip">Couples</span>
            </div>
          </div>
        </article>
      </div>

      <!-- Empty -->
      <div id="vf2-empty" class="hidden mt-4 rounded-lg border border-dashed border-gray-300 bg-gray-50/70 p-5 text-center">
        <div class="text-base mb-1">üîç</div>
        <div class="font-semibold text-gray-800">No matches</div>
        <div class="text-xs text-gray-600">Try a different combination.</div>
      </div>
    </main>
  </div>
</div>

        </div>

        <!-- CAMPAIGN FOUNDRY PANEL -->
        <div id="panel-studio" class="card p-6 md:p-8 hidden opacity-0 translate-y-3">
          <div class="flex items-center justify-between mb-5">
            <div>
              <div class="text-xs font-bold text-accent/80 uppercase tracking-wide">Campaign Foundry</div>
              <h3 class="text-2xl md:text-3xl font-extrabold">Build campaigns & packages from guest vibes</h3>
            </div>
            <div class="hidden md:block text-xs text-gray-500">TrustYou MetaReview</div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Templates -->
            
             <div class="rounded-xl border p-4 bg-white/85">
                <div class="flex items-center justify-between">
                  <div class="font-semibold flex items-center gap-2"><span>üíû</span> Romantic ‚Ä¢ Valentine‚Äôs</div>
                  
                </div>
                <div class="mt-3 flex flex-wrap gap-2">
                  <span class="chip">City = Paris</span><span class="chip">Traveler = Couples</span><span class="chip">Ambience = Romantic</span>
                  <span class="chip">Cleanliness ‚â• 4.5</span><span class="chip">Breakfast ‚â• 4.5</span>
                </div>
                <div class="mt-3 text-[11px] text-gray-500">MetaReview Reviews</div>
                <div class="text-2xl font-extrabold text-accent"><span id="audience-romantic">184,000</span></div>
              </div>


              <div class="rounded-xl border p-4 bg-white/85">
                <div class="flex items-center justify-between">
                  <div class="font-semibold flex items-center gap-2"><span>‚õ∑Ô∏è</span> Top Ski ‚Ä¢ Winter</div>
                  
                </div>
                <div class="mt-3 flex flex-wrap gap-2">
                  <span class="chip">Region = Alps</span><span class="chip">Ambience = Ski</span><span class="chip">Location ‚â• 4.3</span>
                  <span class="chip">Service ‚â• 4.2</span><span class="chip">Comfort ‚â• 4.2</span>
                </div>
                <div class="mt-3 text-[11px] text-gray-500">MetaReview Reviews</div>
                <div class="text-2xl font-extrabold text-accent"><span id="audience-ski">126,500</span></div>
              </div>
          </div>
        </div>
        <!-- /panel-studio -->
      </div>
    </section>

  </div>

  <!-- =========================
     CATEGORIES MODAL (Tailwind + Flowbite only)
     Opens via: data-modal-target="categoriesModal" data-modal-toggle="categoriesModal"
     ========================= -->
<div id="categoriesModal"
     class="fixed top-0 left-0 right-0 z-[100] hidden p-4 md:inset-0 h-[100dvh]"
     aria-hidden="true" aria-modal="true" role="dialog">
  <!-- Backdrop (click to close) -->
  <div class="fixed inset-0 bg-black/50" data-modal-hide="categoriesModal"></div>

  <!-- Centering wrapper -->
  <div class="relative mx-auto w-full max-w-7xl">
    <!-- Panel -->
    <div class="mt-6 overflow-hidden rounded-3xl border border-gray-200 bg-white shadow-[0_30px_80px_rgba(0,0,0,.15)]">

      <!-- Header -->
      <div class="px-6 md:px-8 py-5 border-b border-gray-200 bg-gradient-to-r from-primary/5 via-white to-accent/5 flex justify-between ">
        <div class="flex items-start justify-between gap-4">
          <div>
            <div class="text-[11px] font-bold tracking-widest uppercase text-primary/80">TrustYou MetaReview</div>
            <h3 class="mt-1 text-2xl md:text-3xl font-extrabold text-gray-900">What We Analyze</h3>
            <p class="mt-1 text-sm text-gray-600">All guest-review categories & eligible badges</p>
          </div>
        </div>

        <!-- Tabs (Flowbite) -->
        <div class="mt-4">
          <ul class="segmented p-1 inline-flex w-full md:w-auto gap-1" id="catTabs" data-tabs-toggle="#catTabsContent" role="tablist">
            <li class="me-1" role="presentation">
              <!-- NOTE: removed hardcoded .active to avoid double highlight -->
              <button class="seg-btn px-4 py-2" id="tab-all" data-tabs-target="#tab-all-panel" type="button" role="tab" aria-controls="tab-all-panel" aria-selected="true">
                All Categories
              </button>
            </li>
            <li role="presentation">
              <button class="seg-btn px-4 py-2" id="tab-badges" data-tabs-target="#tab-badges-panel" type="button" role="tab" aria-controls="tab-badges-panel" aria-selected="false">
                Badges
              </button>
            </li>
          </ul>
        </div>
      </div>

      <!-- Body (scrollable content) -->
      <div id="modalScroll"
           class="px-5 md:px-8 py-6 max-h-[calc(100dvh-10.5rem)] overflow-y-auto overscroll-contain scroll-smooth">
        <div id="catTabsContent">
          <!-- ================= TAB: ALL CATEGORIES ================= -->
          <div id="tab-all-panel" role="tabpanel" aria-labelledby="tab-all">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
              <!-- LEFT INDEX -->
              <aside class="lg:col-span-3">
                <!-- Mobile quick-jump -->
                <div class="lg:hidden mb-4 -mx-1 flex gap-2 overflow-x-auto no-scrollbar">
                  <a href="#sec-vibes"      class="inline-flex items-center rounded-full border border-primary/25 bg-primary/10 px-3 py-1 text-xs font-semibold text-primary whitespace-nowrap">Vibes & Styles</a>
                  <a href="#sec-experience" class="inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700 whitespace-nowrap">Experience</a>
                  <a href="#sec-food"       class="inline-flex items-center rounded-full border border-orange-200 bg-orange-50 px-3 py-1 text-xs font-semibold text-orange-700 whitespace-nowrap">Food & Drink</a>
                  <a href="#sec-practical"  class="inline-flex items-center rounded-full border border-purple-200 bg-purple-50 px-3 py-1 text-xs font-semibold text-purple-700 whitespace-nowrap">Practicalities</a>
                  <a href="#sec-wellness"   class="inline-flex items-center rounded-full border border-sky-200 bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700 whitespace-nowrap">Wellness & Leisure</a>
                  <a href="#sec-sustain"    class="inline-flex items-center rounded-full border border-teal-200 bg-teal-50 px-3 py-1 text-xs font-semibold text-teal-700 whitespace-nowrap">Sustainability</a>
                </div>

                <!-- Desktop sticky nav -->
                <nav class="hidden lg:block sticky rounded-2xl border border-gray-200 bg-white shadow-sm p-4 py-3 top-4">
                  <div class="text-[11px] font-semibold tracking-widest text-gray-500 uppercase mb-2">Quick jump</div>
                  <ul class="space-y-2 text-sm">
                    <li>
                      <a href="#sec-vibes" class="flex items-center justify-between rounded-lg border border-primary/20 bg-primary/5 px-3 py-2 text-primary font-semibold hover:bg-primary/10">
                        Vibes & Styles <span>üí´</span>
                      </a>
                    </li>
                    <li>
                      <a href="#sec-experience" class="flex items-center justify-between rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-emerald-700 font-semibold hover:bg-emerald-100">
                        Experience <span>üõèÔ∏è</span>
                      </a>
                      <ul class="mt-2 pl-3 space-y-1 text-gray-700">
                        <li><a href="#cat-service"     class="block px-2 py-1 rounded hover:bg-gray-50">Service</a></li>
                        <li><a href="#cat-cleanliness" class="block px-2 py-1 rounded hover:bg-gray-50">Cleanliness</a></li>
                        <li><a href="#cat-room"        class="block px-2 py-1 rounded hover:bg-gray-50">Room</a></li>
                        <li><a href="#cat-comfort"     class="block px-2 py-1 rounded hover:bg-gray-50">Comfort</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#sec-food" class="flex items-center justify-between rounded-lg border border-orange-200 bg-orange-50 px-3 py-2 text-orange-700 font-semibold hover:bg-orange-100">
                        Food & Drink <span>üçΩÔ∏è</span>
                      </a>
                      <ul class="mt-2 pl-3 space-y-1 text-gray-700">
                        <li><a href="#cat-breakfast" class="block px-2 py-1 rounded hover:bg-gray-50">Breakfast</a></li>
                        <li><a href="#cat-food"      class="block px-2 py-1 rounded hover:bg-gray-50">Food & Dining</a></li>
                        <li><a href="#cat-bar"       class="block px-2 py-1 rounded hover:bg-gray-50">Bar</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#sec-practical" class="flex items-center justify-between rounded-lg border border-purple-200 bg-purple-50 px-3 py-2 text-purple-700 font-semibold hover:bg-purple-100">
                        Practicalities <span>üìç</span>
                      </a>
                      <ul class="mt-2 pl-3 space-y-1 text-gray-700">
                        <li><a href="#cat-location"  class="block px-2 py-1 rounded hover:bg-gray-50">Location</a></li>
                        <li><a href="#cat-amenities" class="block px-2 py-1 rounded hover:bg-gray-50">Amenities</a></li>
                        <li><a href="#cat-wifi"      class="block px-2 py-1 rounded hover:bg-gray-50">WiFi</a></li>
                        <li><a href="#cat-value"     class="block px-2 py-1 rounded hover:bg-gray-50">Value</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#sec-wellness" class="flex items-center justify-between rounded-lg border border-sky-200 bg-sky-50 px-3 py-2 text-sky-700 font-semibold hover:bg-sky-100">
                        Wellness & Leisure <span>üßñ</span>
                      </a>
                      <ul class="mt-2 pl-3 space-y-1 text-gray-700">
                        <li><a href="#cat-wellness" class="block px-2 py-1 rounded hover:bg-gray-50">Wellness Area</a></li>
                        <li><a href="#cat-pool"     class="block px-2 py-1 rounded hover:bg-gray-50">Pool</a></li>
                        <li><a href="#cat-beach"    class="block px-2 py-1 rounded hover:bg-gray-50">Beach</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#sec-sustain" class="flex items-center justify-between rounded-lg border border-teal-200 bg-teal-50 px-3 py-2 text-teal-700 font-semibold hover:bg-teal-100">
                        Sustainability <span>‚ôªÔ∏è</span>
                      </a>
                    </li>
                  </ul>
                </nav>
              </aside>

              <!-- RIGHT CONTENT (same as your current design) -->
              <section class="lg:col-span-9">
                <!-- ===== VIBES & STYLES ===== -->
                <div id="sec-vibes" class="mb-6 scroll-mt-24">
                  <div class="rounded-2xl border border-primary/20 bg-primary/5 px-4 py-3 mb-4">
                    <div class="text-xs font-semibold tracking-widest text-primary/80 uppercase">Vibes & Styles</div>
                    <div class="text-sm text-gray-600">How a place feels and how it‚Äôs positioned</div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Vibe -->
                    <article id="cat-vibe" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üí´</span><h4 class="font-bold text-gray-900">Vibe</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Designer</span>
                        <span class="meta-chip">Friendly Atmosphere</span>
                        <span class="meta-chip">Luxurious</span>
                        <span class="meta-chip">Modern</span>
                        <span class="meta-chip">Entrance Area</span>
                      </div>
                    </article>

                    <!-- Hotel Styles -->
                    <article id="cat-styles" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üè∑Ô∏è</span><h4 class="font-bold text-gray-900">Hotel Styles</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Luxury</span>
                        <span class="meta-chip">Boutique</span>
                        <span class="meta-chip">Business</span>
                        <span class="meta-chip">Family</span>
                        <span class="meta-chip">Resort</span>
                        <span class="meta-chip">Wellness</span>
                        <span class="meta-chip">Eco-friendly</span>
                        <span class="meta-chip">Airport</span>
                        <span class="meta-chip">City</span>
                        <span class="meta-chip">Beach</span>
                        <span class="meta-chip">Winter Sports</span>
                        <span class="meta-chip">Hostel / Midscale / Economy</span>
                      </div>
                    </article>
                  </div>
                </div>

                <!-- ===== EXPERIENCE ===== -->
                <div id="sec-experience" class="mb-6 scroll-mt-24">
                  <div class="rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 mb-4">
                    <div class="text-xs font-semibold tracking-widest text-emerald-700 uppercase">Experience</div>
                    <div class="text-sm text-emerald-800">Sleep quality, service, cleanliness</div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Service -->
                    <article id="cat-service" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">ü§ù</span><h4 class="font-bold text-gray-900">Service</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Reception</span>
                        <span class="meta-chip">Housekeeping</span>
                        <span class="meta-chip">Professionalism</span>
                        <span class="meta-chip">Friendliness</span>
                        <span class="meta-chip">Room Service</span>
                        <span class="meta-chip">Restaurant Service</span>
                        <span class="meta-chip">Concierge</span>
                        <span class="meta-chip">Laundry</span>
                        <span class="meta-chip">Childcare</span>
                        <span class="meta-chip">Valet</span>
                        <span class="meta-chip">Shuttle</span>
                        <span class="meta-chip">Tour Guide</span>
                        <span class="meta-chip">Security</span>
                      </div>
                    </article>

                    <!-- Cleanliness -->
                    <article id="cat-cleanliness" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üßº</span><h4 class="font-bold text-gray-900">Cleanliness</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Rooms</span>
                        <span class="meta-chip">Bathrooms</span>
                        <span class="meta-chip">Hotel Areas</span>
                        <span class="meta-chip">Dining Area</span>
                        <span class="meta-chip">Pool</span>
                        <span class="meta-chip">Wellness Area</span>
                      </div>
                    </article>

                    <!-- Room -->
                    <article id="cat-room" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üõèÔ∏è</span><h4 class="font-bold text-gray-900">Room</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Bathroom</span>
                        <span class="meta-chip">Beds</span>
                        <span class="meta-chip">Room Size</span>
                        <span class="meta-chip">Shower</span>
                        <span class="meta-chip">Balcony</span>
                        <span class="meta-chip">Furniture</span>
                        <span class="meta-chip">Kitchenette</span>
                        <span class="meta-chip">Minibar</span>
                        <span class="meta-chip">TV</span>
                        <span class="meta-chip">View</span>
                        <span class="meta-chip">Maintenance</span>
                        <span class="meta-chip">Air Conditioning</span>
                        <span class="meta-chip">Family Rooms</span>
                      </div>
                    </article>

                    <!-- Comfort -->
                    <article id="cat-comfort" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üåô</span><h4 class="font-bold text-gray-900">Comfort</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Noise Level</span>
                        <span class="meta-chip">Beds</span>
                        <span class="meta-chip">Room Size</span>
                        <span class="meta-chip">Air Conditioning</span>
                        <span class="meta-chip">Bathroom Size</span>
                      </div>
                    </article>
                  </div>
                </div>

                <!-- ===== FOOD & DRINK ===== -->
                <div id="sec-food" class="mb-6 scroll-mt-24">
                  <div class="rounded-2xl border border-orange-200 bg-orange-50 px-4 py-3 mb-4">
                    <div class="text-xs font-semibold tracking-widest text-orange-700 uppercase">Food & Drink</div>
                    <div class="text-sm text-orange-800">Breakfast, dining, bar</div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Breakfast -->
                    <article id="cat-breakfast" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">ü•ê</span><h4 class="font-bold text-gray-900">Breakfast</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Quality</span>
                        <span class="meta-chip">Selection</span>
                        <span class="meta-chip">Value</span>
                      </div>
                    </article>

                    <!-- Food & Dining -->
                    <article id="cat-food" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üçΩÔ∏è</span><h4 class="font-bold text-gray-900">Food & Dining</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Menu</span>
                        <span class="meta-chip">Dining Experience</span>
                        <span class="meta-chip">Seafood</span>
                        <span class="meta-chip">Steak & Meat</span>
                        <span class="meta-chip">Pasta & Pizza</span>
                        <span class="meta-chip">Vegetarian & Vegan</span>
                        <span class="meta-chip">Snacks & Desserts</span>
                        <span class="meta-chip">Gluten-free & Special Diets</span>
                        <span class="meta-chip">Pricing</span>
                      </div>
                    </article>

                    <!-- Bar -->
                    <article id="cat-bar" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üç∏</span><h4 class="font-bold text-gray-900">Bar</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Drinks</span>
                        <span class="meta-chip">Service</span>
                        <span class="meta-chip">Pricing</span>
                      </div>
                    </article>
                  </div>
                </div>

                <!-- ===== PRACTICALITIES ===== -->
                <div id="sec-practical" class="mb-6 scroll-mt-24">
                  <div class="rounded-2xl border border-purple-200 bg-purple-50 px-4 py-3 mb-4">
                    <div class="text-xs font-semibold tracking-widest text-purple-700 uppercase">Practicalities</div>
                    <div class="text-sm text-purple-800">Location, amenities, WiFi, value</div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Location -->
                    <article id="cat-location" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üìç</span><h4 class="font-bold text-gray-900">Location</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">City Centre</span>
                        <span class="meta-chip">Public Transport</span>
                        <span class="meta-chip">Airport</span>
                        <span class="meta-chip">Train Station</span>
                        <span class="meta-chip">Parking</span>
                        <span class="meta-chip">Shopping</span>
                        <span class="meta-chip">Restaurants & Bars</span>
                        <span class="meta-chip">Sightseeing</span>
                        <span class="meta-chip">Beach / Winter Sports Access</span>
                        <span class="meta-chip">Accessibility by Car</span>
                      </div>
                    </article>

                    <!-- Amenities -->
                    <article id="cat-amenities" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üè®</span><h4 class="font-bold text-gray-900">Amenities</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Hotel Building</span>
                        <span class="meta-chip">Architecture</span>
                        <span class="meta-chip">Entrance Area</span>
                        <span class="meta-chip">Elevator</span>
                        <span class="meta-chip">Kids Facilities</span>
                        <span class="meta-chip">Shared Facilities</span>
                        <span class="meta-chip">Handicap Accessible</span>
                        <span class="meta-chip">Grounds / Terrace</span>
                        <span class="meta-chip">Outdoor Sports</span>
                        <span class="meta-chip">Golf</span>
                        <span class="meta-chip">Ski Storage</span>
                        <span class="meta-chip">Smoking Area</span>
                        <span class="meta-chip">Water Park</span>
                      </div>
                    </article>

                    <!-- WiFi -->
                    <article id="cat-wifi" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üì∂</span><h4 class="font-bold text-gray-900">WiFi</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Quality</span>
                        <span class="meta-chip">Cost</span>
                      </div>
                    </article>

                    <!-- Value -->
                    <article id="cat-value" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üí∏</span><h4 class="font-bold text-gray-900">Value</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Overall Value</span>
                        <span class="meta-chip">Breakfast Value</span>
                        <span class="meta-chip">Bar Value</span>
                        <span class="meta-chip">Dining Value</span>
                        <span class="meta-chip">WiFi Value</span>
                      </div>
                    </article>
                  </div>
                </div>

                <!-- ===== WELLNESS & LEISURE ===== -->
                <div id="sec-wellness" class="mb-6 scroll-mt-24">
                  <div class="rounded-2xl border border-sky-200 bg-sky-50 px-4 py-3 mb-4">
                    <div class="text-xs font-semibold tracking-widest text-sky-700 uppercase">Wellness & Leisure</div>
                    <div class="text-sm text-sky-800">Wellness, pool, beach</div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Wellness Area -->
                    <article id="cat-wellness" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üßñ</span><h4 class="font-bold text-gray-900">Wellness Area</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Fitness Area</span>
                        <span class="meta-chip">Sauna</span>
                        <span class="meta-chip">Wellness Staff</span>
                        <span class="meta-chip">Cleanliness</span>
                      </div>
                    </article>

                    <!-- Pool -->
                    <article id="cat-pool" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üèä</span><h4 class="font-bold text-gray-900">Pool</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Cleanliness</span>
                      </div>
                    </article>

                    <!-- Beach -->
                    <article id="cat-beach" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">üèñÔ∏è</span><h4 class="font-bold text-gray-900">Beach</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Cleanliness</span>
                        <span class="meta-chip">Sports</span>
                      </div>
                    </article>
                  </div>
                </div>

                <!-- ===== SUSTAINABILITY ===== -->
                <div id="sec-sustain" class="mb-2 scroll-mt-24">
                  <div class="rounded-2xl border border-teal-200 bg-teal-50 px-4 py-3 mb-4">
                    <div class="text-xs font-semibold tracking-widest text-teal-700 uppercase">Sustainability</div>
                    <div class="text-sm text-teal-800">Efficient, responsible operations</div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <article id="cat-sustainability" class="rounded-2xl border border-gray-200 bg-white p-5">
                      <header class="mb-3 flex items-center gap-2">
                        <span class="text-xl">‚ôªÔ∏è</span><h4 class="font-bold text-gray-900">Sustainability</h4>
                      </header>
                      <div class="flex flex-wrap gap-2">
                        <span class="meta-chip">Eco-friendly Hotel</span>
                        <span class="meta-chip">Energy Efficiency</span>
                        <span class="meta-chip">Sustainable Sourcing</span>
                        <span class="meta-chip">Waste Reduction</span>
                        <span class="meta-chip">Water Conservation</span>
                      </div>
                    </article>
                  </div>
                </div>
              </section>
            </div>
          </div>

          <!-- ================= TAB: BADGES ================= -->
          <div id="tab-badges-panel" class="hidden" role="tabpanel" aria-labelledby="tab-badges">
  <!-- Section header -->
  <div class="rounded-2xl border border-purple-200/50 bg-purple-50/60 px-4 py-3 mb-5">
    <div class="text-xs font-semibold tracking-widest text-purple-700 uppercase">Eligible for Recognition Badges</div>
    <div class="text-sm text-purple-800/90">Grouped by theme for quicker scanning</div>
  </div>

  <!-- ===== GROUP: Hotel Types & Styles ===== -->
  <div class="rounded-xl border border-gray-100 bg-white/70 px-4 py-3 mb-5 shadow-sm/0">
    <div class="flex items-center justify-between gap-2 mb-3">
      <div class="flex items-center gap-2">
        <span class="text-base">üè∑Ô∏è</span>
        <h4 class="font-extrabold tracking-tight">Hotel Types & Styles</h4>
      </div>
      <span class="meta-chip !bg-primary/10 !border-primary/20 !text-primary">19</span>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
      <!-- types -->
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4">
        <div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="flex items-center gap-3 relative">
          <div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üëë</div>
          <div class="min-w-0"><div class="font-semibold truncate">Luxury Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div>
        </div>
      </div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üéÄ</div><div class="min-w-0"><div class="font-semibold truncate">Boutique Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üëî</div><div class="min-w-0"><div class="font-semibold truncate">Business Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üèôÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">City Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üèùÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Resort Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üèñÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Beach Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üåä</div><div class="min-w-0"><div class="font-semibold truncate">Lake Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üåø</div><div class="min-w-0"><div class="font-semibold truncate">Eco-friendly Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üè®</div><div class="min-w-0"><div class="font-semibold truncate">Economy Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üõèÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Hostel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üéâ</div><div class="min-w-0"><div class="font-semibold truncate">Party Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üíû</div><div class="min-w-0"><div class="font-semibold truncate">Romantic Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div><div class="min-w-0"><div class="font-semibold truncate">Family Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">ü´Ç</div><div class="min-w-0"><div class="font-semibold truncate">Friends Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üö∂</div><div class="min-w-0"><div class="font-semibold truncate">Solo Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">‚õ∑Ô∏è</div><div class="min-w-0"><div class="font-semibold truncate">Winter Sports Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">‚úàÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Airport Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üé∞</div><div class="min-w-0"><div class="font-semibold truncate">Casino Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">‚õ≥</div><div class="min-w-0"><div class="font-semibold truncate">Golf Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>

      <!-- pulled in here to avoid singleton section -->
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4">
        <div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="flex items-center gap-3 relative">
          <div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üí´</div>
          <div class="min-w-0"><div class="font-semibold truncate">Vibe</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div>
        </div>
      </div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4">
        <div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="flex items-center gap-3 relative">
          <div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üõ£Ô∏è</div>
          <div class="min-w-0"><div class="font-semibold truncate">Highway Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== GROUP: Experience & Service (incl. Food) ===== -->
  <div class="rounded-xl border border-gray-100 bg-white/70 px-4 py-3 mb-5">
    <div class="flex items-center justify-between gap-2 mb-3">
      <div class="flex items-center gap-2">
        <span class="text-base">üõéÔ∏è</span>
        <h4 class="font-extrabold tracking-tight">Experience, Service & Dining</h4>
      </div>
      <span class="meta-chip !bg-primary/10 !border-primary/20 !text-primary">11</span>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">ü§ù</div><div class="min-w-0"><div class="font-semibold truncate">Service Friendliness</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üõéÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Reception</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üßπ</div><div class="min-w-0"><div class="font-semibold truncate">Housekeeping Staff</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üßº</div><div class="min-w-0"><div class="font-semibold truncate">Cleanliness</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üåô</div><div class="min-w-0"><div class="font-semibold truncate">Comfort</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üõèÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Room</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üëÄ</div><div class="min-w-0"><div class="font-semibold truncate">View</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <!-- dining inside this section -->
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">ü•ê</div><div class="min-w-0"><div class="font-semibold truncate">Breakfast</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üçΩÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Food</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üç∑</div><div class="min-w-0"><div class="font-semibold truncate">Dining Experience</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üçΩÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Room Service</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
    </div>
  </div>

  <!-- ===== GROUP: Wellness & Leisure ===== -->
  <div class="rounded-xl border border-gray-100 bg-white/70 px-4 py-3 mb-5">
    <div class="flex items-center justify-between gap-2 mb-3">
      <div class="flex items-center gap-2">
        <span class="text-base">üßñ</span>
        <h4 class="font-extrabold tracking-tight">Wellness & Leisure</h4>
      </div>
      <span class="meta-chip !bg-primary/10 !border-primary/20 !text-primary">6</span>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üßò</div><div class="min-w-0"><div class="font-semibold truncate">Wellness Area</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üßñ</div><div class="min-w-0"><div class="font-semibold truncate">Wellness Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">ü©∫</div><div class="min-w-0"><div class="font-semibold truncate">Wellness Staff</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üèä</div><div class="min-w-0"><div class="font-semibold truncate">Pool</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üßñ‚Äç‚ôÇÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Sauna</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üí¶</div><div class="min-w-0"><div class="font-semibold truncate">Water Park Hotel</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
    </div>
  </div>

  <!-- ===== GROUP: Location, Facilities & Connectivity ===== -->
  <div class="rounded-xl border border-gray-100 bg-white/70 px-4 py-3">
    <div class="flex items-center justify-between gap-2 mb-3">
      <div class="flex items-center gap-2">
        <span class="text-base">üß≠</span>
        <h4 class="font-extrabold tracking-tight">Location, Facilities & Connectivity</h4>
      </div>
      <span class="meta-chip !bg-primary/10 !border-primary/20 !text-primary">12</span>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üß∞</div><div class="min-w-0"><div class="font-semibold truncate">Amenities</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üèõÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Hotel Building</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üå≥</div><div class="min-w-0"><div class="font-semibold truncate">Grounds</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üå∫</div><div class="min-w-0"><div class="font-semibold truncate">Terrace</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üè∏</div><div class="min-w-0"><div class="font-semibold truncate">Outdoor Sports Facilities</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üß∏</div><div class="min-w-0"><div class="font-semibold truncate">Kids Facilities</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üç¥</div><div class="min-w-0"><div class="font-semibold truncate">Restaurants & Bars</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üç∏</div><div class="min-w-0"><div class="font-semibold truncate">Bar</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üìç</div><div class="min-w-0"><div class="font-semibold truncate">Location</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üõçÔ∏è</div><div class="min-w-0"><div class="font-semibold truncate">Shopping</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üó∫Ô∏è</div><div class="min-w-0"><div class="font-semibold truncate">Sightseeing</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üì∂</div><div class="min-w-0"><div class="font-semibold truncate">WiFi</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
      <div class="badge-card group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-4"><div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="flex items-center gap-3 relative"><div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center">üí∏</div><div class="min-w-0"><div class="font-semibold truncate">Value</div><div class="text-[11px] text-gray-500">Recognition eligible</div></div></div></div>
    </div>
  </div>
</div>


        </div>
      </div>
      <!-- /Body -->
    </div>
    <!-- /Panel -->
  </div>
</div>



<style>
  /* Hide quick-jump scrollbar */
  .no-scrollbar::-webkit-scrollbar{ display:none; }
  .no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }

  /* Inside this modal, ignore any global `.active` styling and rely on aria-selected */
  #categoriesModal .segmented .seg-btn { transition: all .2s ease; }
  #categoriesModal .segmented .seg-btn.active:not(.is-on){
    background: transparent !important; color: inherit !important; box-shadow: none !important;
  }
  /* Our controlled "on" state */
  #categoriesModal #catTabs .seg-btn.is-on{
    background: linear-gradient(135deg, rgba(109,74,255,0.95), rgba(124,58,237,0.95));
    color:#fff; box-shadow: 0 10px 30px rgba(109,74,255,0.35);
  }

  /* Badge cards ‚Äî polished look */
  #categoriesModal .badge-card{
    border-color: hsl(240 5% 84%);
    box-shadow: 0 10px 24px rgba(0,0,0,.06);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  }
  #categoriesModal .badge-card::before{
    content:""; position:absolute; inset:0;
    background: linear-gradient(90deg, rgba(109,74,255,.12), rgba(124,58,237,.12));
    opacity: 0; pointer-events:none; transition: opacity .18s ease;
  }
  #categoriesModal .badge-card:hover{
    transform: translateY(-2px);
    box-shadow: 0 14px 32px rgba(0,0,0,.10);
    border-color: rgba(124,58,237,.35);
  }
  #categoriesModal .badge-card:hover::before{ opacity: 1; }
</style>


<!-- Optional tiny utility (hide mobile quick-jump scrollbar) -->
<style>
  .no-scrollbar::-webkit-scrollbar{ display:none; }
  .no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }
</style>

</main>


    <script>
  /* -------- Block native scroll -------- */
  const blockEvent = (e) => { e.preventDefault(); e.stopPropagation(); return false; };
  ['wheel','touchmove','scroll'].forEach(evt => window.addEventListener(evt, blockEvent, {passive:false}));
  window.addEventListener('keydown', (e) => {
    const keys = ['Space','PageDown','PageUp','Home','End','ArrowUp','ArrowDown'];
    if (keys.includes(e.code)) blockEvent(e);
  }, {passive:false});

  /* -------- Particles -------- */
  function makeParticles(containerId, count = 30) {
    const el = document.getElementById(containerId);
    if (!el) return;
    for (let i = 0; i < count; i++) {
      const b = document.createElement('div');
      b.className = 'absolute rounded-full bg-primary/30';
      const size = Math.random() * 6 + 2;
      b.style.width = `${size}px`; b.style.height = `${size}px`;
      b.style.left = `${Math.random() * 100}%`; b.style.top = `${Math.random() * 100}%`;
      el.appendChild(b);
      gsap.to(b, { y:`-=${20 + Math.random()*20}`, opacity:0.3 + Math.random()*0.5, scale:1 + Math.random()*0.5,
        duration:3 + Math.random()*3, repeat:-1, yoyo:true, ease:'sine.inOut', delay:Math.random()*2, force3D:true });
    }
  }
  makeParticles('hero-particles', 30);

  /* -------- Scene 2: Hive -------- */
  let hiveTween = null;
  const reviews = [
    { text: 'Amazing full English breakfast!', platform: 'Google', sentiment: 'positive', lang: 'en', icon: 'G' },
    { text: 'Room overlooked Hyde Park beautifully', platform: 'Booking', sentiment: 'positive', lang: 'en', icon: 'B' },
    { text: 'Location near Tower Bridge perfect', platform: 'TripAdvisor', sentiment: 'positive', lang: 'en', icon: 'T' },
    { text: 'Staff tr√®s sympathique et serviable', platform: 'Hotels.com', sentiment: 'positive', lang: 'fr', icon: 'H' },
    { text: 'Bit noisy from London traffic', platform: 'Google', sentiment: 'negative', lang: 'en', icon: 'G' },
    { text: 'Excellent value in Central London', platform: 'Booking', sentiment: 'positive', lang: 'en', icon: 'B' },
    { text: 'WiFi connection was unreliable', platform: 'TripAdvisor', sentiment: 'negative', lang: 'en', icon: 'T' },
    { text: 'Thames view from balcony stunning', platform: 'Hotels.com', sentiment: 'positive', lang: 'en', icon: 'H' },
    { text: 'Desayuno incre√≠ble, muy brit√°nico', platform: 'Google', sentiment: 'positive', lang: 'es', icon: 'G' },
    { text: 'Check-in at Heathrow was smooth', platform: 'Booking', sentiment: 'positive', lang: 'en', icon: 'B' },
    { text: 'Gym facilities need updating', platform: 'TripAdvisor', sentiment: 'negative', lang: 'en', icon: 'T' },
    { text: 'Perfect for business in Canary Wharf', platform: 'Hotels.com', sentiment: 'positive', lang: 'en', icon: 'H' },
    { text: 'Camere silenziose vicino a Oxford Street', platform: 'Booking', sentiment: 'positive', lang: 'it', icon: 'B' },
    { text: 'Breakfast queue took too long', platform: 'Google', sentiment: 'negative', lang: 'en', icon: 'G' },
    { text: 'Personnel tr√®s professionnel', platform: 'TripAdvisor', sentiment: 'positive', lang: 'fr', icon: 'T' },
    { text: 'Great access to Underground lines', platform: 'Hotels.com', sentiment: 'positive', lang: 'en', icon: 'H' },
    { text: 'Zimmer sauber, Bett sehr bequem', platform: 'Google', sentiment: 'positive', lang: 'de', icon: 'G' },
    { text: 'Aircon a bit weak during heatwave', platform: 'Booking', sentiment: 'negative', lang: 'en', icon: 'B' },
    { text: 'Perfect afternoon tea experience', platform: 'TripAdvisor', sentiment: 'positive', lang: 'en', icon: 'T' },
    { text: 'Ubicaci√≥n ideal para visitar museos', platform: 'Hotels.com', sentiment: 'positive', lang: 'es', icon: 'H' },
    { text: 'Lobby vibe is chic and calm', platform: 'Google', sentiment: 'positive', lang: 'en', icon: 'G' },
    { text: 'Service consistent but not warm', platform: 'Booking', sentiment: 'neutral', lang: 'en', icon: 'B' },
    { text: 'Bello il panorama sul Tamigi', platform: 'TripAdvisor', sentiment: 'positive', lang: 'it', icon: 'T' },
    { text: 'Parking is limited and pricey', platform: 'Hotels.com', sentiment: 'negative', lang: 'en', icon: 'H' },
    { text: 'Staff handled a late check-in flawlessly', platform: 'Google', sentiment: 'positive', lang: 'en', icon: 'G' },
  ];

  function destroyHive() {
    if (hiveTween) { hiveTween.kill(); hiveTween = null; }
    const hive = document.getElementById('review-hive');
    if (hive) hive.innerHTML = '';
  }
  function buildHive() {
    destroyHive();
    const hive = document.getElementById('review-hive');
    if (!hive) return;
    const rect = hive.getBoundingClientRect();
    const pad = 48;

    reviews.forEach((r) => {
      const card = document.createElement('div');
      const tintClass = r.sentiment === 'positive'
        ? 'bg-green-50/90 border-green-200 text-green-800'
        : r.sentiment === 'negative'
          ? 'bg-red-50/90 border-red-200 text-red-800'
          : 'bg-yellow-50/90 border-yellow-200 text-yellow-800';
      card.className = `review-card absolute max-w-xs p-4 rounded-xl border-2 text-sm font-medium leading-relaxed pointer-events-none ${tintClass}`;
      card.style.willChange = 'transform, opacity';
      card.innerHTML = `
        <div class="flex items-center gap-2 mb-2">
          <div class="w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${
            r.platform === 'Google' ? 'bg-blue-500'
            : r.platform === 'Booking' ? 'bg-blue-600'
            : r.platform === 'TripAdvisor' ? 'bg-green-600'
            : 'bg-orange-500'
          }">${r.icon}</div>
          <span class="text-xs font-medium opacity-70">${r.platform}</span>
          ${r.lang !== 'en' ? `<span class="text-xs px-1.5 py-0.5 bg-primary/20 text-primary rounded uppercase font-medium">${r.lang}</span>` : ''}
        </div>
        <div>${r.text}</div>`;
      hive.appendChild(card);
      gsap.set(card, {
        x: gsap.utils.random(pad, Math.max(pad, rect.width - pad)),
        y: gsap.utils.random(pad, Math.max(pad, rect.height - pad)),
        opacity: 0,
        force3D: true
      });
    });

    gsap.to(hive.querySelectorAll('.review-card'), {
      opacity: 1, duration: 0.45, ease: 'power2.out', stagger: 0.03, force3D: true
    });

    const cards = gsap.utils.toArray('.review-card');
    hiveTween = gsap.to(cards, {
      x: () => {
        const { width } = hive.getBoundingClientRect(); const p = 48;
        return gsap.utils.random(p, Math.max(p, width - p));
      },
      y: () => {
        const { height } = hive.getBoundingClientRect(); const p = 48;
        return gsap.utils.random(p, Math.max(p, height - p));
      },
      rotate: () => gsap.utils.random(-4, 4),
      scale: () => gsap.utils.random(0.98, 1.04),
      duration: () => gsap.utils.random(6, 10),
      ease: 'sine.inOut',
      repeat: -1, yoyo: true, repeatRefresh: true,
      stagger: { each: 0.06 },
      force3D: true
    });
  }
  function pauseHive() { if (hiveTween) hiveTween.pause(); }
  function resumeHive() { if (hiveTween) hiveTween.play(); }

  /* -------- Scene 2‚Üí3 cinematic -------- */
  let s23tl = null;
  let scene3CardHTML = null;
  window.addEventListener('DOMContentLoaded', () => {
    const original = document.getElementById('scene3-card');
    if (original) scene3CardHTML = original.innerHTML;
  });
  function rebuildScene3Card() {
    const card = document.createElement('div');
    card.className = 'card relative overflow-hidden glass shadow-2xl';
    card.id = 'scene3-card';
    card.style.willChange = 'transform, opacity, filter';
    card.classList.add('p-8', 'md:p-10', 'max-w-4xl', 'w-[92%]');
    card.innerHTML = scene3CardHTML || '';
    return card;
  }
  function resetS23() {
    if (s23tl) { s23tl.kill(); s23tl = null; }
    const portal = document.getElementById('s3-portal');
    const overlay = document.getElementById('s2-overlay');
    const grain = document.getElementById('s2-grain');
    if (portal) portal.innerHTML = '';
    gsap.set([portal, overlay, grain], { opacity: 0 });
    gsap.set('#review-hive', { clearProps:'filter', opacity: 1, scale: 1, y: 0 });
  }
  function buildS23() {
    resetS23();
    const hive     = document.getElementById('review-hive');
    const overlay  = document.getElementById('s2-overlay');
    const grain    = document.getElementById('s2-grain');
    const portal   = document.getElementById('s3-portal');
    if (!hive || !overlay || !grain || !portal) return null;

    const iris = document.createElement('div');
    iris.className = 'relative preserve-3d';
    iris.style.clipPath = 'circle(16% at 50% 50%)';
    iris.style.willChange = 'transform, clip-path, opacity';
    const card = rebuildScene3Card();
    portal.appendChild(iris); iris.appendChild(card);

    gsap.set(card, { opacity: 0, z: -600, rotateX: 6, scale: 0.9, filter: 'blur(8px) saturate(0.95)' });

    s23tl = gsap.timeline({ paused:true, defaults:{ force3D:true } });
    s23tl.add(() => pauseHive());

    s23tl.addLabel('zoom', 0)
      .to(overlay, { opacity: 1, duration: 0.6, ease: 'power2.out' }, 'zoom')
      .to(hive,    { scale: 2.5, duration: 2, ease: 'power4.inOut' }, 'zoom');

    s23tl.addLabel('blurOut', 1.1)
      .to(hive,   { filter: 'blur(10px) saturate(1.06)', duration: 0.7, ease: 'power2.out' }, 'blurOut')
      .to(hive,   { opacity: 0, duration: 1.0, ease: 'power2.inOut' }, 'blurOut+=0.1')
      .to(grain,  { opacity: 0.08, duration: 0.6, ease: 'power1.out' }, 'blurOut')
      .to(portal, { opacity: 1, duration: 0.6, ease: 'power1.out' }, 'blurOut+=0.15');

    s23tl.addLabel('emerge', 1.8)
      .to(iris, { clipPath: 'circle(130% at 50% 50%)', duration: 1.05, ease: 'power4.out' }, 'emerge')
      .to(card, { opacity: 1, z: 0, rotateX: 0, scale: 1, filter: 'blur(0px) saturate(1)', duration: 1.1, ease: 'power4.out' }, 'emerge+=0.05');

    s23tl.call(() => {
      const bars = card.querySelectorAll('[data-bar]');
      bars.forEach((bar, i) => {
        const w = bar.getAttribute('data-bar');
        gsap.fromTo(bar, { width: 0 }, { width: `${w}%`, duration: 0.8, ease: 'power2.out', delay: 0.15 * i });
      });
    }, null, 'emerge+=0.3');

    s23tl.eventCallback('onReverseComplete', () => { resetS23(); resumeHive(); });
    return s23tl;
  }

  /* -------- Scene 4 -------- */
  const hotelList = [
  {
    "name": "The Langham London",
    "score": 4.9,
    "city": "London",
    "isOriginal": true,
    "img": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Langham_london.jpg/1920px-Langham_london.jpg",
    "reviews_count": 2198
  },
  {
    "name": "Claridge's",
    "score": 4.5,
    "city": "London",
    "img": "https://lh3.googleusercontent.com/p/AF1QipMcAFofAkmAzxCXHdsnZk1GLj_lWV1oiyLnFNQt=s1360-w1360-h1020-rw",
    "reviews_count": 4528
  },
  {
    "name": "The Savoy",
    "score": 4.4,
    "city": "London",
    "img": "https://www.ahstatic.com/photos/a597_ho_00_p_2048x1536.jpg",
    "reviews_count": 3590
  },
  {
    "name": "The Ritz London",
    "score": 4.3,
    "city": "London",
    "img": "https://media.architecturaldigest.com/photos/55e796eb302ba71f3018054d/16:9/w_2240,c_limit/dam-images-homes-2002-05-ritz-hoar01_ritz.jpg",
    "reviews_count": 7850
  },
  {
    "name": "Shangri-La London",
    "score": 4.2,
    "city": "London",
    "img": "https://www.outthere.travel/wp-content/uploads/2020/07/Shangrila-London-at-the-Shard-1.jpg",
    "reviews_count": 8059
  },
  {
    "name": "Covent Garden Hotel",
    "score": 4.2,
    "city": "London",
    "img": "https://www.residenthotels.com/wp-content/uploads/2022/06/The-Resident-Covent-Garden-Exterior-dusk.jpg",
    "reviews_count": 3779
  },
  {
    "name": "The Zetter Townhouse",
    "score": 4.1,
    "city": "London",
    "img": "https://cf.bstatic.com/xdata/images/hotel/max1024x768/77003227.jpg?k=e6473a8ebe28f9dbb721af8739d839e58e8baa79fc4b6dea10e717b8c617ca04&o=&hp=1",
    "reviews_count": 3135
  },
  {
    "name": "Hotel Caf√© Royal",
    "score": 4.4,
    "city": "London",
    "img": "https://806d2bf04cf5fa54997a-e7c5344b3b84eec5da7b51276407b19c.ssl.cf1.rackcdn.com/u/hotel-cafe-royal/Hotel-Cafe-Royal---Exterior-Day.jpg",
    "reviews_count": 5662
  },
  {
    "name": "The Connaught",
    "score": 4.5,
    "city": "London",
    "img": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Mount_St_%283768612442%29.jpg/1200px-Mount_St_%283768612442%29.jpg",
    "reviews_count": 3416
  },
  {
    "name": "Rosewood London",
    "score": 4.3,
    "city": "London",
    "img": "https://www.coventgarden.london/media/odflpuz4/rosewood-london.jpg",
    "reviews_count": 2914
  },
  {
    "name": "The Dorchester",
    "score": 4.3,
    "city": "London",
    "img": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/2b/c1/39/exterior.jpg?w=900&h=500&s=1",
    "reviews_count": 9299
  },
  {
    "name": "Mandarin Oriental",
    "score": 4.2,
    "city": "London",
    "img": "https://media.ffycdn.net/eu/mandarin-oriental-hotel-group/aq2hRUD5Tfpkof5hz3A9.jpg",
    "reviews_count": 6209
  },
  {
    "name": "Four Seasons London",
    "score": 4.2,
    "city": "London",
    "img": "https://images.squarespace-cdn.com/content/v1/64a439dde5405e2ca5d9a1b1/2c90bb63-9df7-4a9d-83a2-04c684434311/GrandEntrance_FourSeasonsLondon.jpeg",
    "reviews_count": 3631
  },
  {
    "name": "The Berkeley",
    "score": 4.2,
    "city": "London",
    "img": "https://cf.bstatic.com/xdata/images/hotel/max1024x768/539860678.jpg?k=432ff19ad405c881056f7e38b98f6606da0fac09aa235169ca714404f69cc74c&o=&hp=1",
    "reviews_count": 1047
  },
  {
    "name": "Brown's Hotel",
    "score": 4.1,
    "city": "London",
    "img": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2f/94/62/83/rfh-brown-s-hotel-facade.jpg?w=900&h=500&s=1",
    "reviews_count": 6416
  },
  {
    "name": "The Ned",
    "score": 4.0,
    "city": "London",
    "img": "https://media.cntraveler.com/photos/5a677a3465efd67e1ef2ca21/16:9/w_2560%2Cc_limit/The-Ned_Paul-Allitt_2018_Copyright-The-Ned-Roof-170509-SB-HR-01.jpg",
    "reviews_count": 4015
  },
  {
    "name": "Sea Containers",
    "score": 4.0,
    "city": "London",
    "img": "https://www.seacontainerslondon.com/media/ef4ezvd5/exterior-sea-co.jpg?anchor=center&mode=crop&quality=70&width=2300&height=1200&rnd=133216430012900000",
    "reviews_count": 8962
  },
  {
    "name": "The Standard",
    "score": 4.0,
    "city": "London",
    "img": "https://archello.s3.eu-central-1.amazonaws.com/images/2019/10/29/-c--1Tim-Soar---Orms---The-Standard--14-.1572358819.9665.jpg",
    "reviews_count": 3411
  },
  {
    "name": "Edition London",
    "score": 4.1,
    "city": "London",
    "img": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRzjvRJexofbtMTwcJA69WmnCA10dnb_WPW5A&s",
    "reviews_count": 9396
  },
  {
    "name": "Chiltern Firehouse",
    "score": 4.2,
    "city": "London",
    "img": "https://www.chilternfirehouse.com/assets/firehouse-55ef596d2d9640e5a4253ff6104a596dd00933a1b2afe1211b3145eea3789f1c.jpg",
    "reviews_count": 8981
  },
  {
    "name": "The Hoxton",
    "score": 4.0,
    "city": "London",
    "img": "https://static.prod.r53.tablethotels.com/media/hotels/slideshow_images_staged/large/1104741.jpg",
    "reviews_count": 2328
  },
  {
    "name": "The Ned",
    "score": 4.0,
    "city": "London",
    "img": "https://media.cntraveler.com/photos/5a677a3465efd67e1ef2ca21/16:9/w_2560%2Cc_limit/The-Ned_Paul-Allitt_2018_Copyright-The-Ned-Roof-170509-SB-HR-01.jpg",
    "reviews_count": 7101
  },
  {
    "name": "Sea Containers",
    "score": 4.0,
    "city": "London",
    "img": "https://www.seacontainerslondon.com/media/ef4ezvd5/exterior-sea-co.jpg?anchor=center&mode=crop&quality=70&width=2300&height=1200&rnd=133216430012900000",
    "reviews_count": 5824
  },
  {
    "name": "The Standard",
    "score": 4.0,
    "city": "London",
    "img": "https://archello.s3.eu-central-1.amazonaws.com/images/2019/10/29/-c--1Tim-Soar---Orms---The-Standard--14-.1572358819.9665.jpg",
    "reviews_count": 8436
  },
  {
    "name": "Edition London",
    "score": 4.1,
    "city": "London",
    "img": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRzjvRJexofbtMTwcJA69WmnCA10dnb_WPW5A&s",
    "reviews_count": 6497
  },
  {
    "name": "Chiltern Firehouse",
    "score": 4.2,
    "city": "London",
    "img": "https://www.chilternfirehouse.com/assets/firehouse-55ef596d2d9640e5a4253ff6104a596dd00933a1b2afe1211b3145eea3789f1c.jpg",
    "reviews_count": 3531
  },
  {
    "name": "The Hoxton",
    "score": 4.0,
    "city": "London",
    "img": "https://static.prod.r53.tablethotels.com/media/hotels/slideshow_images_staged/large/1104741.jpg",
    "reviews_count": 1436
  },
  {
    "name": "The Ned",
    "score": 4.0,
    "city": "London",
    "img": "https://media.cntraveler.com/photos/5a677a3465efd67e1ef2ca21/16:9/w_2560%2Cc_limit/The-Ned_Paul-Allitt_2018_Copyright-The-Ned-Roof-170509-SB-HR-01.jpg",
    "reviews_count": 2655
  },
  {
    "name": "Sea Containers",
    "score": 4.0,
    "city": "London",
    "img": "https://www.seacontainerslondon.com/media/ef4ezvd5/exterior-sea-co.jpg?anchor=center&mode=crop&quality=70&width=2300&height=1200&rnd=133216430012900000",
    "reviews_count": 7084
  },
  {
    "name": "The Standard",
    "score": 4.0,
    "city": "London",
    "img": "https://archello.s3.eu-central-1.amazonaws.com/images/2019/10/29/-c--1Tim-Soar---Orms---The-Standard--14-.1572358819.9665.jpg",
    "reviews_count": 6417
  },
  {
    "name": "Edition London",
    "score": 4.1,
    "city": "London",
    "img": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRzjvRJexofbtMTwcJA69WmnCA10dnb_WPW5A&s",
    "reviews_count": 4734
  },
  {
    "name": "Chiltern Firehouse",
    "score": 4.2,
    "city": "London",
    "img": "https://www.chilternfirehouse.com/assets/firehouse-55ef596d2d9640e5a4253ff6104a596dd00933a1b2afe1211b3145eea3789f1c.jpg",
    "reviews_count": 1985
  },
  {
    "name": "The Hoxton",
    "score": 4.0,
    "city": "London",
    "img": "https://static.prod.r53.tablethotels.com/media/hotels/slideshow_images_staged/large/1104741.jpg",
    "reviews_count": 756
  },
  {
    "name": "The Dorchester",
    "score": 4.3,
    "city": "London",
    "img": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/2b/c1/39/exterior.jpg?w=900&h=500&s=1",
    "reviews_count": 6392
  },
  {
    "name": "Mandarin Oriental",
    "score": 4.2,
    "city": "London",
    "img": "https://media.ffycdn.net/eu/mandarin-oriental-hotel-group/aq2hRUD5Tfpkof5hz3A9.jpg",
    "reviews_count": 3121
  },
  {
    "name": "Four Seasons London",
    "score": 4.2,
    "city": "London",
    "img": "https://images.squarespace-cdn.com/content/v1/64a439dde5405e2ca5d9a1b1/2c90bb63-9df7-4a9d-83a2-04c684434311/GrandEntrance_FourSeasonsLondon.jpeg",
    "reviews_count": 4079
  },
  {
    "name": "The Berkeley",
    "score": 4.2,
    "city": "London",
    "img": "https://cf.bstatic.com/xdata/images/hotel/max1024x768/539860678.jpg?k=432ff19ad405c881056f7e38b98f6606da0fac09aa235169ca714404f69cc74c&o=&hp=1",
    "reviews_count": 898
  },




];

  function buildScene4() {
  const grid = document.getElementById('hotel-grid');
  grid.innerHTML = '';

  const total = hotelList.length;
  const maxBlur = 6; // how strong the blur gets by the end

  hotelList.forEach((h, i) => {
    const item = document.createElement('div');
    item.className = `relative ${h.isOriginal ? 'col-span-2 row-span-2' : ''}`;
    // important for perf when animating filter
    item.style.willChange = 'filter, transform, opacity';

    item.innerHTML = `
      <div class="p-3 bg-white/95 border border-[color:var(--tw-prose-borders,theme(colors.border))] rounded-2xl shadow-xl ${h.isOriginal ? 'border-2 border-primary' : ''}">
        <div class="flex items-center gap-2 mb-2">
          <div class="${h.isOriginal ? 'w-32 h-32' : 'w-8 h-8'} rounded-lg bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center">
            <img src="${h.img}" class="w-full h-full rounded-lg object-cover" />
          </div>
          <div class="flex-1 min-w-0">
            <h4 class="font-semibold truncate ${h.isOriginal ? 'text-base' : 'text-xs'}">${h.name}</h4>
            <p class="text-gray-600 ${h.isOriginal ? 'text-sm' : 'text-xs'}">${h.city}</p>
          </div>
        </div>
        <div class="flex items-center justify-between">
          <span class="font-bold text-primary ${h.isOriginal ? 'text-lg' : 'text-sm'}">${h.score}</span>
          <span class="text-gray-600 text-xs">${h.reviews_count.toLocaleString("en-US")}</span>
        </div>
      </div>`;

    // Compute progressive blur: first = sharp, last = maxBlur.
    // Keep the "original" featured card sharp regardless of index.
    const t = total <= 1 ? 0 : i / (total - 1);
    const targetBlur = h.isOriginal ? 0 : Math.round(t * maxBlur);

    grid.appendChild(item);

    // Nice entrance + settle into final blur.
    gsap.fromTo(
      item,
      {
        opacity: 0,
        y: 20,
        scale: h.isOriginal ? 1 : 0.92,
        // start slightly less blurred so it ‚Äúfocuses‚Äù into its final state
        filter: `blur(${Math.max(0, targetBlur - 4)}px)`,
      },
      {
        opacity: 1,
        y: 0,
        scale: h.isOriginal ? 1 : 1,
        filter: `blur(${targetBlur}px)`,
        duration: 0.45,
        ease: 'power2.out',
        delay: 0.04 * i,
      }
    );
  });

  gsap.set('#s4-title', { opacity: 0 });
  gsap.to('#s4-title', { opacity: 1, duration: 0.8, ease: 'power3.out' });

  gsap.set('#s4-stats', { opacity: 0 });
  gsap.delayedCall(1.0, () =>
    gsap.to('#s4-stats', { opacity: 1, duration: 0.6, ease: 'power2.out' })
  );
}


  /* -------- Scene 5 -------- */
  const inspoBadges = [
    { badge: "Top 3% Business Hotels in London", x: "15%", y: "20%", delay: 2.0 },
    { badge: "Exceptional Breakfast Experience",  x: "25%", y: "35%", delay: 2.5 },
    { badge: "Top 10% Hotel Grounds in City",    x: "35%", y: "50%", delay: 3.0 },
    { badge: "Top 1% Location Score",            x: "55%", y: "25%", delay: 3.5 },
    { badge: "Top 5% Service Excellence",        x: "75%", y: "40%", delay: 4.0 },
    { badge: "Top 2% Historic Properties",       x: "65%", y: "65%", delay: 4.5 },
    { badge: "Top 8% Royal Heritage",            x: "45%", y: "75%", delay: 5.0 },
    { badge: "Top 12% Modern Experience",        x: "85%", y: "60%", delay: 5.5 },
  ];

  function buildScene5() {
    const bench = document.getElementById('benchmark-grid');
    const badgesLayer = document.getElementById('s5-badges');
    bench.innerHTML = '';
    badgesLayer.innerHTML = '';

    hotelList.slice(0, 21).forEach((h, i) => {
      const isTop = [0,1,2,5,9,12,19].includes(i);
      const card = document.createElement('div');
      card.className =
        'relative p-3 rounded-2xl border shadow-xl ' +
        (isTop ? 'bg-gradient-to-br from-accent/10 to-primary/10 border-accent/40'
               : 'bg-white/70 border-primary/20');
      card.innerHTML = `
        <div class="space-y-2">
          <div class="w-full h-8 bg-gradient-to-br from-primary/20 to-accent/20 rounded flex items-center justify-center"><div class="text-sm"></div></div>
          <div><h4 class="font-medium text-xs truncate">${h.name}</h4><p class="text-gray-600 text-xs">${h.city}</p></div>
          <div class="px-2 py-1 rounded-full font-bold text-xs text-center ${isTop ? 'bg-accent text-white' : 'bg-primary text-white'}">${h.score}</div>
        </div>`;
      bench.appendChild(card);
      gsap.from(card, { opacity: 0, scale: 0.86, duration: 0.4, ease: 'power2.out', delay: i * 0.03 });
    });

    gsap.set('#s5-title', { opacity: 0 });
    gsap.to('#s5-title', { opacity: 1, duration: 0.8, ease: 'power3.out' });
    gsap.set('#s5-stats', { opacity: 0 });
    gsap.delayedCall(1.0, () => gsap.to('#s5-stats', { opacity: 1, duration: 0.6, ease: 'power2.out' }));

    inspoBadges.forEach((item) => {
      const wrap = document.createElement('div');
      wrap.className = 'absolute';
      wrap.style.left = item.x; wrap.style.top = item.y;

      const pill = document.createElement('div');
      pill.className = 's5-badge';
      pill.innerHTML = `<span class="mr-1">üèÜ</span>${item.badge}`;
      wrap.appendChild(pill);
      badgesLayer.appendChild(wrap);

      gsap.fromTo(wrap, { opacity: 0, y: 50, scale: 0.8 }, {
        opacity: 1, y: 0, scale: 1, duration: 0.8, ease: 'back.out(1.8)',
        delay: item.delay
      });
      gsap.to(pill, {
        y: -5, repeat: -1, yoyo: true, duration: 1.5, ease: 'sine.inOut',
        delay: item.delay + 1
      });
      const shadows = [
        '0 10px 30px rgba(107,33,168,0.30)',
        '0 15px 40px rgba(107,33,168,0.40)',
        '0 10px 30px rgba(107,33,168,0.30)'
      ];
      gsap.timeline({ repeat: -1, delay: item.delay + 1 })
         .to(pill, { boxShadow: shadows[1], duration: 1.0, ease: 'sine.inOut' })
         .to(pill, { boxShadow: shadows[2], duration: 2.0, ease: 'sine.inOut' });
    });
  }

  /* =======================
     Scene 6 ‚Äî helpers + switcher (GLOBAL)
     ======================= */
  const _showBlock = (el) => {
    if (!el) return;
    el.classList.remove('hidden');
    el.style.display = 'block';
    el.style.visibility = 'visible';
  };
  const _hideBlock = (el) => {
    if (!el) return;
    el.classList.add('hidden');
    el.style.display = 'none';
    el.style.visibility = 'hidden';
    gsap.set(el, { clearProps: 'opacity,transform' });
  };
  const _barsIn = (scopeEl) => {
    if (!scopeEl) return;
    scopeEl.querySelectorAll('[data-bar]').forEach((bar, i) => {
      const w = bar.getAttribute('data-bar');
      gsap.fromTo(bar, { width: 0 }, { width: `${w}%`, duration: 0.6, ease: 'power2.out', delay: 0.08 * i });
    });
  };
  const _countTo = (id, toVal, dur = 1.0) => {
    const el = document.getElementById(id);
    if (!el) return;
    const start = parseInt((el.textContent || '0').replace(/[^\d]/g, '')) || 0;
    const obj = { v: start };
    gsap.to(obj, { v: toVal, duration: dur, ease: 'power3.out',
      onUpdate: () => (el.textContent = Math.floor(obj.v).toLocaleString()) });
  };

  // global switcher
  function showScene6Panel(which) {
    const filters = document.getElementById('panel-filters');
    const studio  = document.getElementById('panel-studio');
    const segF = document.getElementById('seg-filters');
    const segS = document.getElementById('seg-studio');
    if (!filters || !studio || !segF || !segS) return;

    const front = (which === 'studio') ? studio : filters;
    const back  = (which === 'studio') ? filters : studio;

    gsap.killTweensOf([front, back]);

    segF.classList.toggle('active', which === 'filters');
    segS.classList.toggle('active', which === 'studio');
    segF.setAttribute('aria-selected', which === 'filters' ? 'true' : 'false');
    segS.setAttribute('aria-selected', which === 'studio' ? 'true' : 'false');

    _hideBlock(back);
    _showBlock(front);

    gsap.fromTo(front, { opacity: 0, y: 10, scale: 0.99 }, {
      opacity: 1, y: 0, scale: 1, duration: 0.45, ease: 'power3.out'
    });

    if (which === 'filters') {
      _barsIn(front);
      gsap.from('#filters-results > *', { opacity: 0, y: 10, duration: 0.28, ease: 'power2.out', stagger: 0.05 });
    } else {
      _countTo('audience-romantic', 184000, 1.0);
      _countTo('audience-ski',      126500, 1.0);
      gsap.from('#panel-studio .creative', { opacity: 0, scale: 0.96, duration: 0.3, ease: 'power2.out', stagger: 0.06 });
    }
  }

  // one-time wiring so tabs also work if clicked before the scene intro runs
  window.addEventListener('DOMContentLoaded', () => {
    const segF = document.getElementById('seg-filters');
    const segS = document.getElementById('seg-studio');
    if (segF) segF.addEventListener('click', () => showScene6Panel('filters'));
    if (segS) segS.addEventListener('click', () => showScene6Panel('studio'));
  });

  let s6IntroTl = null;

  function buildScene6() {
    if (s6IntroTl) { s6IntroTl.kill(); s6IntroTl = null; }

    const filters = document.getElementById('panel-filters');
    const studio  = document.getElementById('panel-studio');

    _showBlock(filters);
    _showBlock(studio);     // render once to get dimensions
    _hideBlock(studio);     // start with studio hidden

    gsap.set('#s6-title', { opacity: 0, y: 6 });
    gsap.set([filters, studio], { opacity: 0, y: 12, scale: 0.99, filter: 'none', boxShadow: '0 8px 28px rgba(0,0,0,.10)' });
    filters.querySelectorAll('[data-bar]').forEach(b => gsap.set(b, { width: 0 }));

    s6IntroTl = gsap.timeline();
    s6IntroTl
      .to('#s6-title', { opacity: 1, y: 0, duration: 0.7, ease: 'power3.out' }, 0.0)
      .to(filters,     { opacity: 1, y: 0, scale: 1, duration: 0.55, ease: 'power3.out' }, 0.2)
      .add(() => showScene6Panel('filters'), 0.6);

    const handleTabArrows = (e) => {
      if (step !== 5) return;
      if (e.code === 'ArrowLeft')  showScene6Panel('filters');
      if (e.code === 'ArrowRight') showScene6Panel('studio');
    };
    window.addEventListener('keydown', handleTabArrows, { passive: true });
  }

  /* -------- Scene 1 intro -------- */
  function playScene1Intro() {
    gsap.set(['#s1-h1','#s1-p','#s1-ind'], { opacity: 0, y: 0 });
    gsap.to('#s1-h1', { opacity: 1, duration: 1.0, ease: 'power3.out' });
    gsap.to('#s1-p',  { opacity: 1, duration: 0.8, delay: 0.4, ease: 'power2.out' });
    gsap.to('#s1-ind',{ opacity: 1, duration: 0.8, delay: 0.8, ease: 'power2.out' });
  }
  playScene1Intro();

  /* -------- State machine -------- */
  const scenesOrder = ['scene-1','scene-2','scene-2','scene-4','scene-5','scene-6'];
  let step = 0;

  function setActiveSceneById(id) {
    document.querySelectorAll('#stage > section').forEach(sec => sec.classList.remove('active'));
    const el = document.getElementById(id);
    if (el) el.classList.add('active');
  }

  function goToStep(next) {
    next = Math.max(0, Math.min(scenesOrder.length - 1, next));
    if (next === step) return;

    const leavingId = scenesOrder[step];
    const enteringId = scenesOrder[next];

    if (leavingId === 'scene-2') {
      if (!(step === 1 && next === 2)) {
        destroyHive();
        resetS23();
      }
    }

    step = next;
    setActiveSceneById(enteringId);

    switch (step) {
      case 0: playScene1Intro(); break;

      case 1: // S2 idle hive
        buildHive(); resumeHive();
        gsap.set(['#s2-overlay','#s2-grain','#s3-portal'], { opacity: 0 });
        gsap.set('#review-hive', { clearProps:'filter', opacity: 1, scale: 1, y: 0 });
        break;

      case 2: {
        const tl = buildS23();
        if (tl) tl.play(0);
        break;
      }

      case 3: buildScene4(); break;
      case 4: buildScene5(); break;
      case 5: buildScene6(); break;
    }
  }

  // Keyboard controls
  window.addEventListener('keydown', (e) => {
    if (e.code === 'ArrowDown' || e.code === 'PageDown' || e.code === 'Enter') {
      goToStep(step + 1);
    } else if (e.code === 'ArrowUp' || e.code === 'PageUp' || e.code === 'Backspace') {
      if (step === 2 && s23tl && s23tl.progress() > 0) {
        s23tl.reverse();
        s23tl.eventCallback('onReverseComplete', () => {
          goToStep(1);
          s23tl.eventCallback('onReverseComplete', null);
        });
      } else {
        goToStep(step - 1);
      }
    }
  });

  // Initialize
  setActiveSceneById(scenesOrder[step]);
</script>

<script>
  (function(){
    const modal = document.getElementById('categoriesModal');
    const scrollEl = modal?.querySelector('#modalScroll');
    if (scrollEl){
      const stop = e => e.stopPropagation();
      ['wheel','touchmove','scroll'].forEach(evt => scrollEl.addEventListener(evt, stop, { passive:false }));
    }

    // ---- Tabs highlight fix: avoid conflicting .active class from global styles ----
    modal?.querySelectorAll('#catTabs .seg-btn.active').forEach(btn => btn.classList.remove('active'));

    const syncTabs = () => {
      const allBtns = modal.querySelectorAll('#catTabs .seg-btn');
      allBtns.forEach(b => {
        const on = b.getAttribute('aria-selected') === 'true';
        b.classList.toggle('is-on', on);
        b.tabIndex = on ? 0 : -1;
      });
    };
    syncTabs();
    document.addEventListener('tabs:change', (e) => {
      if (modal.contains(e.target)) syncTabs();
    });
    modal.querySelectorAll('#catTabs .seg-btn').forEach(b =>
      b.addEventListener('click', () => setTimeout(syncTabs, 0))
    );

    // ---- Hardcoded badge cards ----
    const badges = [
      { name: "Airport Hotel", icon: "‚úàÔ∏è" },
      { name: "Amenities", icon: "üß∞" },
      { name: "Bar", icon: "üç∏" },
      { name: "Beach Hotel", icon: "üèñÔ∏è" },
      { name: "Beds", icon: "üõå" },
      { name: "Boutique Hotel", icon: "üéÄ" },
      { name: "Breakfast", icon: "ü•ê" },
      { name: "Business Facilities", icon: "üíº" },
      { name: "Business Hotel", icon: "üëî" },
      { name: "Casino Hotel", icon: "üé∞" },
      { name: "Childcare", icon: "üß∏" },
      { name: "City Hotel", icon: "üèôÔ∏è" },
      { name: "Cleanliness", icon: "üßº" },
      { name: "Comfort", icon: "üåô" },
      { name: "Dining Experience", icon: "üç∑" },
      { name: "Eco-friendly Hotel", icon: "üåø" },
      { name: "Economy Hotel", icon: "üè®" },
      { name: "Family Hotel", icon: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶" },
      { name: "Fitness Area", icon: "üèãÔ∏è" },
      { name: "Food", icon: "üçΩÔ∏è" },
      { name: "Friends Hotel", icon: "ü´Ç" },
      { name: "Golf Hotel", icon: "‚õ≥" },
      { name: "Grounds", icon: "üå≥" },
      { name: "Highway Hotel", icon: "üõ£Ô∏è" },
      { name: "Hostel", icon: "üõèÔ∏è" },
      { name: "Hotel Building", icon: "üèõÔ∏è" },
      { name: "Housekeeping Staff", icon: "üßπ" },
      { name: "Kids Facilities", icon: "üé†" },
      { name: "Lake Hotel", icon: "üåä" },
      { name: "Location", icon: "üìç" },
      { name: "Luxury Hotel", icon: "üëë" },
      { name: "Outdoor Sports Facilities", icon: "üè∏" },
      { name: "Party Hotel", icon: "üéâ" },
      { name: "Pool", icon: "üèä" },
      { name: "Reception", icon: "üõéÔ∏è" },
      { name: "Resort Hotel", icon: "üèùÔ∏è" },
      { name: "Restaurants & Bars", icon: "üç¥" },
      { name: "Romantic Hotel", icon: "üíû" },
      { name: "Room", icon: "üõèÔ∏è" },
      { name: "Room Service", icon: "üçΩÔ∏è" },
      { name: "Sauna", icon: "üßñ‚Äç‚ôÇÔ∏è" },
      { name: "Service Friendliness", icon: "ü§ù" },
      { name: "Shopping", icon: "üõçÔ∏è" },
      { name: "Sightseeing", icon: "üó∫Ô∏è" },
      { name: "Solo Hotel", icon: "üö∂" },
      { name: "Terrace", icon: "üå∫" },
      { name: "Value", icon: "üí∏" },
      { name: "Vibe", icon: "üí´" },
      { name: "View", icon: "üëÄ" },
      { name: "Water Park Hotel", icon: "üí¶" },
      { name: "Wellness Area", icon: "üßò" },
      { name: "Wellness Hotel", icon: "üßñ" },
      { name: "Wellness Staff", icon: "ü©∫" },
      { name: "WiFi", icon: "üì∂" },
      { name: "Winter Sports Hotel", icon: "‚õ∑Ô∏è" }
    ];

    const mount = modal?.querySelector('#badgeCards');
    if (mount){
      mount.innerHTML = '';
      badges.forEach(b => {
        mount.innerHTML += `
          <div class="badge-card group relative overflow-hidden rounded-2xl border bg-white p-4">
            <div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-primary/5 opacity-0 group-hover:opacity-100 transition-opacity"></div>
            <div class="flex items-center gap-3 relative">
              <div class="shrink-0 w-9 h-9 rounded-full bg-gradient-to-br from-primary/30 to-accent/40 grid place-items-center text-gray-800 shadow-inner">
                ${b.icon}
              </div>
              <div class="min-w-0">
                <div class="font-semibold text-gray-900 truncate">${b.name}</div>
                <div class="text-[11px] text-gray-500">Recognition eligible</div>
              </div>
            </div>
          </div>`;
      });
    }
  })();
</script>

<script>
  (function vfTwoColRadios() {
    const root = document.getElementById('vf-2col');
    if (!root) return;

    const cards = Array.from(root.querySelectorAll('.vf2-hotel'));
    const empty = root.querySelector('#vf2-empty');

    let selTrav = 'any';
    let selType = 'any';

    function matches(card) {
      const type  = (card.getAttribute('data-type') || '').trim();
      const travs = (card.getAttribute('data-travelers') || '').split(',').map(s => s.trim());
      const okType = (selType === 'any' || selType === type);
      const okTrav = (selTrav === 'any' || travs.includes(selTrav));
      return okType && okTrav;
    }

    function render() {
      let shown = 0;
      cards.forEach(c => {
        const ok = matches(c);
        c.style.display = ok ? '' : 'none';
        shown += ok ? 1 : 0;
      });
      empty.classList.toggle('hidden', shown !== 0);
    }

    // Radios: Traveler
    root.querySelectorAll('input[name="vf2-trav"]').forEach(r => {
      r.addEventListener('change', () => { selTrav = r.value; render(); });
    });

    // Radios: Property Type
    root.querySelectorAll('input[name="vf2-type"]').forEach(r => {
      r.addEventListener('change', () => { selType = r.value; render(); });
    });

    render();
  })();
</script>


  </body>
</html>
